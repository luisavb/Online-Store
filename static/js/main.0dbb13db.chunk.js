(this["webpackJsonpsd-0x-project-frontend-online-store"]=this["webpackJsonpsd-0x-project-frontend-online-store"]||[]).push([[0],{20:function(e,t,a){},25:function(e,t,a){e.exports=a(44)},30:function(e,t,a){},32:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),o=a.n(c),i=(a(30),a(4)),l=a(5),s=a(7),u=a(6),m=a(11),p=a(1),d=a(15),h=a(3),E=a.n(h),b=a(12);function f(){return v.apply(this,arguments)}function v(){return(v=Object(b.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.mercadolibre.com/sites/MLB/categories");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return C.apply(this,arguments)}function C(){return(C=Object(b.a)(E.a.mark((function e(t,a){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.mercadolibre.com/sites/MLB/search?category=".concat(t,"&q=").concat(a));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return N.apply(this,arguments)}function N(){return(N=Object(b.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.mercadolibre.com/items/".concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(32);var y=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.onClickColocaCarrinho;return r.a.createElement("div",{"data-testid":"product",className:"product"},r.a.createElement("h3",{className:"title"},t.title),r.a.createElement("img",{src:t.thumbnail,alt:t.title,width:"150px"}),r.a.createElement("p",{className:"price"},"R$: ".concat(t.price)),r.a.createElement("div",null,r.a.createElement(m.b,{to:"/product-detail/".concat(t.id),"data-testid":"product-detail-link"},r.a.createElement("button",{className:"button-details",type:"button"},"Mais detalhes...")),r.a.createElement("br",null),r.a.createElement("button",{className:"button-cardItens",onClick:a,type:"button","data-testid":"product-add-to-cart"},"Adicionar ao carrinho")))}}]),a}(r.a.Component),O=(a(41),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).pegarCategoriasApi=Object(b.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f();case 2:a=t.sent,e.setState({categorias:a});case 4:case"end":return t.stop()}}),t)}))),e.onChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(d.a)({},n,r))},e.onClick=Object(b.a)(E.a.mark((function t(){var a,n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.produto,t.next=3,g("",a);case 3:(n=t.sent).results.length>0?e.setState({pesquisa:n.results,loading:!0}):e.setState({loading:!1});case 5:case"end":return t.stop()}}),t)}))),e.pesquisarCategoria=function(){var t=Object(b.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(a,"");case 2:n=t.sent,e.setState({loading:!0,pesquisa:n.results});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={produto:"",categorias:[],pesquisa:[],loading:null},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.pegarCategoriasApi()}},{key:"render",value:function(){var e=this,t=this.state,a=t.categorias,n=t.produto,c=t.pesquisa,o=t.loading,i=this.props.onClickColocaCarrinho;return r.a.createElement("div",{className:"container-home"},r.a.createElement("header",{className:"carrinho"},r.a.createElement("h1",null,"Online Store"),r.a.createElement(m.b,{"data-testid":"shopping-cart-button",to:"/shopping-cart"},r.a.createElement("img",{src:"./shopping-cart.png",alt:"carrinho",width:"40px"}))),r.a.createElement("section",{className:"search"},r.a.createElement("label",{className:"label-input",htmlFor:"text","data-testid":"home-initial-message"},r.a.createElement("h3",{className:"search-title"},"Digite algum termo de pesquisa ou escolha uma categoria."),r.a.createElement("input",{className:"input-home","data-testid":"query-input",onChange:this.onChange,value:n,name:"produto",type:"text",id:"text"})),r.a.createElement("div",{className:"button-div"},r.a.createElement("button",{className:"button-home",onClick:this.onClick,type:"button","data-testid":"query-button"},"Pesquisar"))),r.a.createElement("section",{className:"categorias-produtos"},r.a.createElement("aside",{className:"aside-home"},a.map((function(t){var a=t.id,n=t.name;return r.a.createElement("button",{className:"button-category",id:"button-home2","data-testid":"category",type:"button",key:a,onClick:function(){return e.pesquisarCategoria(a)}},n)}))),o&&r.a.createElement("section",{className:"section-home"},c.map((function(e){return r.a.createElement(y,{key:e.id,item:e,onClickColocaCarrinho:function(){return i(e.title,e.price,e.thumbnail)}})}))),null===o&&r.a.createElement("div",{className:"section-home"}),!1===o&&r.a.createElement("p",{className:"section-home"},"Nenhum produto foi encontrado")))}}]),a}(r.a.Component)),j=(a(42),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.carrinho,a=e.onClickRemoverItem,n=e.onClickDiminuirQuantidade,c=e.onClickAumentarQuantidade;return r.a.createElement("div",null,0===t.length&&r.a.createElement("p",{"data-testid":"shopping-cart-empty-message"},"Seu carrinho est\xe1 vazio"),0!==t&&t.map((function(e,t){return r.a.createElement("div",{className:"productCart",key:t},r.a.createElement("img",{src:e.thumbnail,alt:e.title,width:"150px"}),r.a.createElement("div",{className:"itemCart"},r.a.createElement("p",{"data-testid":"shopping-cart-product-name"},e.title),r.a.createElement("p",null,"Valor unit\xe1rio: R$ ".concat(e.price)),r.a.createElement("p",{"data-testid":"shopping-cart-product-quantity"},"Quantidade:".concat(e.quantidade)),r.a.createElement("p",null,"Valor Total: R$ ".concat(e.total))),r.a.createElement("div",{className:"botaoCart"},r.a.createElement("button",{className:"buttonCartItens",type:"button",onClick:function(){return a(e.title)}},"Remover Item"),r.a.createElement("button",{className:"buttonCartItensAumentar",type:"button",onClick:function(){return c(e.title,e.price)},"data-testid":"product-increase-quantity"},"+"),r.a.createElement("button",{className:"buttonCartItensRemover",type:"button",onClick:function(){return n(e.title,e.quantidade,e.price)},"data-testid":"product-decrease-quantity"},"-")))})),r.a.createElement(m.b,{to:"/checkout","data-testid":"checkout-products"},r.a.createElement("button",{className:"buttonCartItensCheckOut",type:"button"},"Checkout")))}}]),a}(r.a.Component));j.defaultProps={carrinho:function(){return[]}};var x=j,I=(a(20),a(24)),S=a(14),w=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).PegaProduto=function(){var t=Object(b.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(a);case 2:n=t.sent,e.setState({produto:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.buttonLocalStorage=function(t){t.preventDefault();var a=e.state,n={email:a.email,texto:a.texto,nota:a.nota};JSON.parse(localStorage.getItem("reviews"))||localStorage.setItem("reviews",JSON.stringify([]));var r=JSON.parse(localStorage.getItem("reviews"));localStorage.setItem("reviews",JSON.stringify([].concat(Object(I.a)(r),[n]))),r=JSON.parse(localStorage.getItem("reviews")),e.setState({email:"",texto:"",nota:"",comentarios:r})},e.state={produto:{},email:"",texto:"",nota:"",comentarios:[]},e.changeInput=e.changeInput.bind(Object(S.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.id;this.PegaProduto(e),JSON.parse(localStorage.getItem("reviews"))||localStorage.setItem("reviews",JSON.stringify([]));var t=JSON.parse(localStorage.getItem("reviews"));this.setState({comentarios:t})}},{key:"changeInput",value:function(e){var t=e.target,a=t.name;"radio"!==t.type?this.setState(Object(d.a)({},a,t.value)):this.setState({nota:t.id})}},{key:"render",value:function(){var e=this,t=this.state,a=t.produto,n=t.email,c=t.texto,o=t.comentarios,i=this.props.onClickColocaCarrinho;return r.a.createElement("main",{className:"main-prod-detail"},r.a.createElement("section",{className:"product-detail"},r.a.createElement("div",{className:"product-img"},r.a.createElement("img",{src:a.thumbnail,alt:a.title,width:"250px"})),r.a.createElement("div",{className:"product-descricao"},r.a.createElement("h3",{className:"title","data-testid":"product-detail-name"},a.title),r.a.createElement("p",{className:"price"},"R$: ".concat(a.base_price)),r.a.createElement("h3",{className:"espec-tecnica"},"Especifica\xe7\xf5es T\xe9cnicas"),r.a.createElement("ul",null,r.a.createElement("li",{className:"li"},a.warranty),r.a.createElement("li",{className:"li"},"Condi\xe7\xe3o: ".concat(a.condition)),r.a.createElement("li",{className:"li"},"Situa\xe7\xe3o: ".concat(a.status))),r.a.createElement("div",null,r.a.createElement("button",{className:"button-prod-detail",onClick:function(){return i(a.title,a.price,a.thumbnail)},type:"button","data-testid":"product-detail-add-to-cart"},"Adicionar ao carrinho")))),r.a.createElement("section",{className:"section-comentarios"},r.a.createElement("h3",{className:"opiniao-produto"},"Deixe sua opini\xe3o sobre o produto"),r.a.createElement("div",{className:"comentarios-conteudo"},r.a.createElement("form",{className:"form-comentarios"},r.a.createElement("input",{className:"input-opiniao",type:"email",name:"email",id:"email",value:n,placeholder:"Email","data-testid":"product-detail-email",onChange:this.changeInput}),r.a.createElement("textarea",{className:"textarea",type:"text",name:"texto",id:"text",placeholder:"Mensagem(opcional)",value:c,"data-testid":"product-detail-evaluation",onChange:this.changeInput}),r.a.createElement("p",{className:"opiniao-produto"},"Sua avalia\xe7\xe3o"),r.a.createElement("div",null,["1","2","3","4","5"].map((function(t){return r.a.createElement("label",{key:t,htmlFor:t},t,r.a.createElement("input",{className:"radio",id:t,type:"radio","data-testid":"".concat(t,"-rating"),name:"avalia\xe7\xe3o",onChange:e.changeInput}))}))),r.a.createElement("button",{className:"button-detail-avaliar",type:"submit","data-testid":"submit-review-btn",onClick:this.buttonLocalStorage},"Avaliar")),r.a.createElement("div",{className:"historico-comentarios"},o.map((function(e,t){return r.a.createElement("div",{className:"comentario",key:e.email+t},r.a.createElement("p",{className:"nota"},e.nota),r.a.createElement("p",{className:"email"},e.email),r.a.createElement("p",{className:"texto"},e.texto))}))))))}}]),a}(r.a.Component),q=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.match.params.id,t=this.props.onClickColocaCarrinho;return r.a.createElement("div",{className:"container-product"},r.a.createElement("header",{className:"carrinho"},r.a.createElement("h1",null,"Online Store"),r.a.createElement(m.b,{"data-testid":"shopping-cart-button",to:"/shopping-cart"},r.a.createElement("img",{src:"../shopping-cart.png",alt:"carrinho",width:"40px"}))),r.a.createElement(w,{id:e,onClickColocaCarrinho:t}))}}]),a}(r.a.Component),P=(a(43),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).button=function(t){t.preventDefault();var a=e.state,n=a.nome,r=a.cpf,c=a.email,o=a.cep,i=a.endereco,l=a.metodo;n.length>0&&r.length>0&&c.length>0&&o.length>0&&i.length>0&&l.length>0?e.setState({redirecionar:!1}):e.setState({mensagem:!1})},e.state={nome:"",cpf:"",email:"",tel:"",cep:"",endereco:"",metodo:"",redirecionar:!0,mensagem:!0},e.changeInput=e.changeInput.bind(Object(S.a)(e)),e}return Object(l.a)(a,[{key:"changeInput",value:function(e){var t=e.target,a=t.name;"radio"!==t.type?this.setState(Object(d.a)({},a,t.value)):this.setState({metodo:t.id})}},{key:"render",value:function(){var e=this.state,t=e.nome,a=e.cpf,n=e.email,c=e.tel,o=e.cep,i=e.endereco,l=e.redirecionar,s=e.mensagem,u=this.props.carrinho;return r.a.createElement("div",null,r.a.createElement("section",null,0!==u&&u.map((function(e,t){return r.a.createElement("div",{className:"productCheckout",key:t},r.a.createElement("img",{src:e.thumbnail,alt:e.title,width:"150px"}),r.a.createElement("div",{className:"nameCheckout"},r.a.createElement("p",null,e.title)),r.a.createElement("p",{className:"checkoutP"},"Valor unit\xe1rio: R$ ".concat(e.price)),r.a.createElement("p",{className:"checkoutP"},"Quantidade:".concat(e.quantidade)),r.a.createElement("p",{className:"checkoutP"},"Valor Total: R$ ".concat(e.total)))}))),r.a.createElement("section",null,r.a.createElement("form",null,r.a.createElement("h3",{className:"titleCheckout"},"Informa\xe7\xf5es do Comprador:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:t,"data-testid":"checkout-fullname",name:"nome",placeholder:"Nome Completo",onChange:this.changeInput}),r.a.createElement("input",{type:"text",value:a,"data-testid":"checkout-cpf",name:"cpf",placeholder:"CPF",onChange:this.changeInput}),r.a.createElement("br",null),r.a.createElement("input",{type:"email",value:n,"data-testid":"checkout-email",name:"email",placeholder:"Email",onChange:this.changeInput}),r.a.createElement("input",{type:"tel",value:c,"data-testid":"checkout-phone",name:"tel",placeholder:"Telefone",onChange:this.changeInput}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:o,"data-testid":"checkout-cep",name:"cep",placeholder:"CEP",onChange:this.changeInput}),r.a.createElement("input",{type:"text",value:i,"data-testid":"checkout-address",name:"endereco",placeholder:"Endere\xe7o",onChange:this.changeInput})),r.a.createElement("form",null,r.a.createElement("br",null),r.a.createElement("h3",{className:"titleCheckout"},"M\xe9todo de Pagamento:"),r.a.createElement("label",{htmlFor:"boleto"},r.a.createElement("input",{type:"radio",name:"metodo",id:"boleto",onChange:this.changeInput}),"Boleto"),r.a.createElement("label",{htmlFor:"visa"},r.a.createElement("input",{type:"radio",name:"metodo",id:"visa",onChange:this.changeInput}),"Visa"),r.a.createElement("label",{htmlFor:"master"},r.a.createElement("input",{type:"radio",name:"metodo",id:"master",onChange:this.changeInput}),"MasterCard"),r.a.createElement("label",{htmlFor:"elo"},r.a.createElement("input",{type:"radio",name:"metodo",id:"elo",onChange:this.changeInput}),"Elo"),r.a.createElement("br",null),r.a.createElement("button",{className:"buttonComprarCheckout",type:"submit",onClick:this.button},"Comprar"))),!l&&r.a.createElement(p.a,{to:"/"}),!s&&r.a.createElement("p",null," Preencha todos os campos "))}}]),a}(r.a.Component));P.defaultProps={carrinho:function(){return[]}};var R=P,A=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).onClickColocaCarrinho=function(t,a,n){var r=e.state.carrinho,c={title:t,price:a,thumbnail:n,quantidade:1,total:a};if(r.some((function(e){return e.title===t}))){var o=r.find((function(e){return e.title===t}));o.quantidade+=1,o.total=o.price+a}else r.push(c)},e.onClickRemoverItem=function(t){var a=e.state.carrinho,n=a.findIndex((function(e){return e.title===t}));a.splice(n,1),e.setState({carrinho:a})},e.onClickDiminuirQuantidade=function(t,a,n){if(1===a)return e.onClickRemoverItem(t);var r=e.state.carrinho,c=r.find((function(e){return e.title===t}));c.quantidade-=1,c.total-=n,e.setState({carrinho:r})},e.onClickAumentarQuantidade=function(t,a){var n=e.state.carrinho,r=n.find((function(e){return e.title===t}));r.quantidade+=1,r.total+=a,console.log(a,r.price),e.setState({carrinho:n})},e.state={carrinho:[]},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state.carrinho;return r.a.createElement(m.a,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(O,Object.assign({},t,{onClickColocaCarrinho:e.onClickColocaCarrinho}))}}),r.a.createElement(p.b,{path:"/shopping-cart",render:function(a){return r.a.createElement(x,Object.assign({},a,{carrinho:t,onClickRemoverItem:e.onClickRemoverItem,onClickDiminuirQuantidade:e.onClickDiminuirQuantidade,onClickAumentarQuantidade:e.onClickAumentarQuantidade}))}}),r.a.createElement(p.b,{path:"/product-detail/:id",render:function(t){return r.a.createElement(q,Object.assign({},t,{onClickColocaCarrinho:e.onClickColocaCarrinho}))}}),r.a.createElement(p.b,{path:"/checkout",render:function(e){return r.a.createElement(R,Object.assign({},e,{carrinho:t}))}})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.0dbb13db.chunk.js.map